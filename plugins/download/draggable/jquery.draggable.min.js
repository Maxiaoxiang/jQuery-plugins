!function(a,b,c,d){var e={handleCls:"",axis:"",rangeCls:"",clone:!1,cloneCls:"clone",animateTime:0,startDrag:function(){},moveDrag:function(){},stopDrag:function(){}},f=function(d,e){var f=this,g=!1,h=a(d),i=a("body"),j=a(b),k=a(c),l={iX:"",iY:"",mX:"",mY:""},m=e.handleCls?a("."+e.handleCls):h,n=e.rangeCls?a("."+e.rangeCls):i,o=e.clone?a('<div class="'+e.cloneCls+'"></div>'):"",p=e.clone?o:h;"object"==typeof o&&o.css({position:"absolute",top:h.position().top,left:h.position().left,width:h.outerWidth(),height:h.outerHeight(),cursor:"move","z-index":h.css("z-index")}),f.start=function(a,b){0!=e.startDrag(f,a)&&((b||function(){})(),g=!0,l.iX=f.getMouseCoords(a).x-h.position().left,l.iY=f.getMouseCoords(a).y-h.position().top,h.css({position:"absolute"}),e.clone&&o.appendTo(n))};var q=function(a,b){if(g&&0!=e.moveDrag(f,a)){a.stopPropagation(),a.preventDefault();var d=c.body.scrollTop;switch(l.mX=f.getMouseCoords(a).x-l.iX,l.mY=f.getMouseCoords(a).y-l.iY,e.axis){case"x":b.css({left:l.mX});break;case"y":b.css({top:l.mY});break;default:b.css({left:l.mX,top:l.mY})}e.rangeCls?(b.position().left<0&&b.css({left:"0"}),b.position().left>n.width()-b.width()&&b.css({left:n.width()-b.width()}),b.position().top<0&&b.css({top:"0"}),b.position().top>n.height()-b.height()&&b.css({top:n.height()-b.height()})):(b.position().left<0&&b.css({left:"0"}),b.position().left>j.width()-b.width()&&b.css({left:j.width()-b.width()}),b.position().top<d&&b.css({top:d}),b.position().top>j.height()-b.height()+d&&b.css({top:j.height()-b.height()+d}))}};f.stop=function(a,b){g&&(e.clone&&(h.css({top:b.position().top,left:b.position().left}),b.remove()),g=!1,e.stopDrag(f,a))},f.getDraging=function(){return g},f.getMouseCoords=function(a){return a.pageX||a.pageY?{x:a.pageX,y:a.pageY}:{x:a.clientX+c.body.scrollLeft-c.body.clientLeft,y:a.clientY+c.body.scrollTop-c.body.clientTop}};var r=function(){m.css({cursor:"move"}).on("mousedown",function(a){f.start(a)}),k.on({mousemove:function(a){q(a,p)},mouseup:function(a){f.stop(a,p)}})};r()};return a.fn.draggable=function(b,c){"function"==typeof b?(c=b,b={}):(b=b||{},c=c||function(){});var d=a.extend({},e,b);return this.each(function(){var a=new f(this,d);c(a)})},a}(jQuery,window,document);